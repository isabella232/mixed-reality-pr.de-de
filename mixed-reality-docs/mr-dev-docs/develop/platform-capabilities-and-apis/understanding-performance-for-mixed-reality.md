---
title: Grundlegendes zur Leistung für gemischte Realität
description: Erweiterte Themen und Details zur Optimierung der Leistung für Windows Mixed Reality-apps
author: hferrone
ms.author: v-hferrone
ms.date: 3/26/2019
ms.topic: article
keywords: Gemischte Windows-Realität, gemischte Realität, Virtual Reality, VR, Mr, Leistung, Optimierung, CPU, GPU
ms.openlocfilehash: c51f84a9814e946603e6dd750fedf0f6e6e78cc0
ms.sourcegitcommit: 09599b4034be825e4536eeb9566968afd021d5f3
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 10/03/2020
ms.locfileid: "91684894"
---
# <a name="understanding-performance-for-mixed-reality"></a><span data-ttu-id="2986b-104">Grundlegendes zur Leistung für gemischte Realität</span><span class="sxs-lookup"><span data-stu-id="2986b-104">Understanding performance for mixed reality</span></span>

<span data-ttu-id="2986b-105">Dieser Artikel ist eine Einführung in das Verständnis der Bedeutung der Leistung für ihre gemischte Reality-app.</span><span class="sxs-lookup"><span data-stu-id="2986b-105">This article is an introduction to understanding the significance of performance for your Mixed Reality app.</span></span>  <span data-ttu-id="2986b-106">Die Benutzer Leistung kann erheblich beeinträchtigt werden, wenn Ihre Anwendung nicht mit optimaler Framerate ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="2986b-106">User experience can be greatly degraded if your application does not run at optimal frame rate.</span></span> <span data-ttu-id="2986b-107">Holograms werden instabil angezeigt, und die Kopf Nachverfolgung der Umgebung ist ungenau, was zu einem schlechten Benutzer Verhalten führt.</span><span class="sxs-lookup"><span data-stu-id="2986b-107">Holograms will appear unstable and head tracking of the environment will be inaccurate, leading to a poor experience for the user.</span></span> <span data-ttu-id="2986b-108">Die Leistung muss als erstklassige Funktion für die Entwicklung in gemischter Realität und nicht als polnische Aufgabe angesehen werden.</span><span class="sxs-lookup"><span data-stu-id="2986b-108">Performance must be considered a first class feature for mixed reality development and not a polish task.</span></span>

<span data-ttu-id="2986b-109">Die leistungsstarken Framerate-Werte für jede Zielplattform sind unten aufgeführt.</span><span class="sxs-lookup"><span data-stu-id="2986b-109">The performant framerate values for each target platform are listed below.</span></span>

| <span data-ttu-id="2986b-110">Plattform</span><span class="sxs-lookup"><span data-stu-id="2986b-110">Platform</span></span> | <span data-ttu-id="2986b-111">Zielframe Rate</span><span class="sxs-lookup"><span data-stu-id="2986b-111">Target Frame Rate</span></span> |
|----------|-------------------|
| [<span data-ttu-id="2986b-112">HoloLens</span><span class="sxs-lookup"><span data-stu-id="2986b-112">HoloLens</span></span>](../../hololens-hardware-details.md) | <span data-ttu-id="2986b-113">60 FPS</span><span class="sxs-lookup"><span data-stu-id="2986b-113">60 FPS</span></span> |
| [<span data-ttu-id="2986b-114">Windows Mixed Reality Ultra PCs</span><span class="sxs-lookup"><span data-stu-id="2986b-114">Windows Mixed Reality Ultra PCs</span></span>](../../discover/immersive-headset-hardware-details.md) | <span data-ttu-id="2986b-115">90 fps</span><span class="sxs-lookup"><span data-stu-id="2986b-115">90 FPS</span></span> |
| [<span data-ttu-id="2986b-116">Windows Mixed Reality-PCs</span><span class="sxs-lookup"><span data-stu-id="2986b-116">Windows Mixed Reality PCs</span></span>](../../discover/immersive-headset-hardware-details.md) | <span data-ttu-id="2986b-117">60 FPS</span><span class="sxs-lookup"><span data-stu-id="2986b-117">60 FPS</span></span> |

<span data-ttu-id="2986b-118">Im folgenden Framework werden bewährte Methoden zum Erreichen von Ziel Frameraten beschrieben.</span><span class="sxs-lookup"><span data-stu-id="2986b-118">The framework below outlines best practices for hitting target frame rates.</span></span> <span data-ttu-id="2986b-119">Wenn Sie in Unity entwickeln, sollten Sie den [Artikel Leistungs Empfehlungen für Unity](../unity/performance-recommendations-for-unity.md) lesen, um Tipps zum Messen und verbessern der Framerate in der Unity-Umgebung zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="2986b-119">If developing in Unity, consider reading the [performance recommendations for Unity article](../unity/performance-recommendations-for-unity.md) for tips on measuring and improving framerate in the Unity environment.</span></span>

## <a name="understanding-performance-bottlenecks"></a><span data-ttu-id="2986b-120">Grundlegendes zu Leistungs Engpässen</span><span class="sxs-lookup"><span data-stu-id="2986b-120">Understanding performance bottlenecks</span></span>

<span data-ttu-id="2986b-121">Wenn Ihre APP einen leistungsstarken Framerate hat, besteht der erste Schritt darin, zu analysieren und zu verstehen, wo Ihre Anwendung Rechen intensiv ist.</span><span class="sxs-lookup"><span data-stu-id="2986b-121">If your app has an underperforming framerate, the first step is to analyze and understand where your application is computationally intensive.</span></span> <span data-ttu-id="2986b-122">Es gibt zwei primäre Prozessoren, die für die Arbeit zum Rendering Ihrer Szene verantwortlich sind: die CPU und die GPU.</span><span class="sxs-lookup"><span data-stu-id="2986b-122">There are two primary processors responsible for the work to render your scene: the CPU and the GPU.</span></span> <span data-ttu-id="2986b-123">Jede dieser Anwendungen behandelt verschiedene Aspekte ihrer Mixed Reality-app.</span><span class="sxs-lookup"><span data-stu-id="2986b-123">Each of these handle different aspects of your Mixed Reality app.</span></span> <span data-ttu-id="2986b-124">Es gibt drei wichtige Orte, an denen Engpässe auftreten können:</span><span class="sxs-lookup"><span data-stu-id="2986b-124">There are three key places where bottlenecks may occur:</span></span> 

1. <span data-ttu-id="2986b-125">**App-Thread-CPU** : dieser Thread ist für Ihre APP-Logik verantwortlich.</span><span class="sxs-lookup"><span data-stu-id="2986b-125">**App Thread - CPU** - This thread is responsible for your app logic.</span></span> <span data-ttu-id="2986b-126">Dies umfasst die Verarbeitung von Eingaben, Animationen, Physik und anderen APP-Logik.</span><span class="sxs-lookup"><span data-stu-id="2986b-126">This includes processing input, animations, physics, and other app logic.</span></span>
2. <span data-ttu-id="2986b-127">**Thread-CPU zu GPU rentieren** : dieser Thread ist für das übermitteln der Draw-Aufrufe an die GPU verantwortlich.</span><span class="sxs-lookup"><span data-stu-id="2986b-127">**Render Thread - CPU to GPU** - This thread is responsible for submitting your draw calls to the GPU.</span></span> <span data-ttu-id="2986b-128">Wenn Ihre APP ein Objekt (z. b. einen Cube oder ein Modell) renderingfähig ist, sendet dieser Thread eine Anforderung an die GPU, um diese Vorgänge auszuführen.</span><span class="sxs-lookup"><span data-stu-id="2986b-128">When your app wants to render an object such as a cube or model, this thread sends a request to the GPU to perform these operations.</span></span>
3. <span data-ttu-id="2986b-129">**GPU** : Dieser Prozessor verarbeitet am häufigsten die Grafik Pipeline Ihrer Anwendung, um 3D-Daten (Modelle, Texturen usw.) in Pixel umzuwandeln.</span><span class="sxs-lookup"><span data-stu-id="2986b-129">**GPU** - This processor most commonly handles the graphics pipeline of your application to transform 3D data (models, textures, etc.) into pixels.</span></span> <span data-ttu-id="2986b-130">Letztendlich wird ein 2D-Image erstellt, das an den Bildschirm Ihres Geräts gesendet wird.</span><span class="sxs-lookup"><span data-stu-id="2986b-130">It ultimately produces a 2D image to submit to your device's screen.</span></span>

![Lebensdauer eines Frames](images/lifetime-of-a-frame.png)

<span data-ttu-id="2986b-132">Im Allgemeinen werden hololens-Anwendungen GPU-gebunden, aber nicht immer.</span><span class="sxs-lookup"><span data-stu-id="2986b-132">Generally, HoloLens applications will be GPU bound, but not always.</span></span> <span data-ttu-id="2986b-133">Verwenden Sie die unten aufgeführten Tools und Verfahren, um zu verstehen, wo ihre jeweilige App Engpässe hat.</span><span class="sxs-lookup"><span data-stu-id="2986b-133">Use the tools and techniques below to understand where your particular app is bottlenecked.</span></span>

## <a name="how-to-analyze-your-application"></a><span data-ttu-id="2986b-134">Analysieren der Anwendung</span><span class="sxs-lookup"><span data-stu-id="2986b-134">How to analyze your application</span></span>

<span data-ttu-id="2986b-135">Es gibt viele Tools, mit denen Sie das Leistungsprofil Ihrer gemischten Reality-Anwendung verstehen können.</span><span class="sxs-lookup"><span data-stu-id="2986b-135">There are many tools that allow you to understand the performance profile of your mixed reality application.</span></span> <span data-ttu-id="2986b-136">Diese ermöglichen es Ihnen, herauszufinden, wo und warum Sie Engpässe haben, damit Sie Sie beheben können.</span><span class="sxs-lookup"><span data-stu-id="2986b-136">These will enable you to find where and why you have bottlenecks, so you can address them.</span></span>

<span data-ttu-id="2986b-137">Im folgenden finden Sie einige gängige Tools, mit denen Sie umfassende Profil Erstellungs Informationen für Ihre Anwendung erhalten</span><span class="sxs-lookup"><span data-stu-id="2986b-137">Below are some common tools to gain deep profiling information for your application:</span></span>
- [<span data-ttu-id="2986b-138">Intel Graphics Performance Analyzer</span><span class="sxs-lookup"><span data-stu-id="2986b-138">Intel Graphics Performance Analyzers</span></span>](https://software.intel.com/gpa)
- [<span data-ttu-id="2986b-139">Visual Studio-Grafik-Debuggers</span><span class="sxs-lookup"><span data-stu-id="2986b-139">Visual Studio Graphics Debuggers</span></span>](https://docs.microsoft.com/visualstudio/debugger/graphics/visual-studio-graphics-diagnostics)
- [<span data-ttu-id="2986b-140">Unity-Profiler</span><span class="sxs-lookup"><span data-stu-id="2986b-140">Unity Profiler</span></span>](https://docs.unity3d.com/Manual/Profiler.html)
- [<span data-ttu-id="2986b-141">Unity-Frame Debugger</span><span class="sxs-lookup"><span data-stu-id="2986b-141">Unity Frame Debugger</span></span>](https://docs.unity3d.com/Manual/FrameDebugger.html)

### <a name="how-to-profile-in-any-environment"></a><span data-ttu-id="2986b-142">Profilerstellung in einer beliebigen Umgebung</span><span class="sxs-lookup"><span data-stu-id="2986b-142">How to profile in any environment</span></span>

<span data-ttu-id="2986b-143">Eine Möglichkeit, um zu bestimmen, ob Sie in Ihrer Anwendung GPU-gebunden oder CPU-gebunden sind, besteht darin, die Auflösung der Ausgabe des Renderziels zu verringern.</span><span class="sxs-lookup"><span data-stu-id="2986b-143">One way to determine if you are GPU bound or CPU bound in your application is to decrease the resolution of the render target output.</span></span> <span data-ttu-id="2986b-144">Wenn Sie die Anzahl der zu berechnenden Pixel verringern, wird die GPU-Auslastung dadurch reduziert.</span><span class="sxs-lookup"><span data-stu-id="2986b-144">By reducing the number of pixels to calculate, this will reduce your GPU load.</span></span> <span data-ttu-id="2986b-145">Das Gerät wird in eine kleinere Textur und dann up-Sample angezeigt, um das endgültige Bild anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="2986b-145">The device will render to a smaller texture, then up-sample to display your final image.</span></span>

<span data-ttu-id="2986b-146">Nach dem verringern der renderinglösung:</span><span class="sxs-lookup"><span data-stu-id="2986b-146">After decreasing rendering resolution, if:</span></span>
1) <span data-ttu-id="2986b-147">Die Anwendungs Framerate **nimmt** zu, Sie sind wahrscheinlich **an GPU gebunden** .</span><span class="sxs-lookup"><span data-stu-id="2986b-147">Application framerate **increases** , then you are likely **GPU Bound**</span></span>
1) <span data-ttu-id="2986b-148">Die Anwendungs Framerate ist **unverändert** , und Sie sind wahrscheinlich **CPU-gebunden** .</span><span class="sxs-lookup"><span data-stu-id="2986b-148">Application framerate **unchanged** , then you are likely **CPU Bound**</span></span>

>[!NOTE]
><span data-ttu-id="2986b-149">Unity bietet die Möglichkeit, die renderzielauflösung Ihrer Anwendung zur Laufzeit mithilfe der *[xrsettings. renderviewportscale](https://docs.unity3d.com/ScriptReference/XR.XRSettings-renderViewportScale.html)* -Eigenschaft problemlos zu ändern.</span><span class="sxs-lookup"><span data-stu-id="2986b-149">Unity provides the ability to easily modify the render target resolution of your application at runtime through the *[XRSettings.renderViewportScale](https://docs.unity3d.com/ScriptReference/XR.XRSettings-renderViewportScale.html)* property.</span></span> <span data-ttu-id="2986b-150">Das endgültige Bild, das auf dem Gerät angezeigt wird, hat eine Fehlerbehebung.</span><span class="sxs-lookup"><span data-stu-id="2986b-150">The final image presented on device has a fixed resolution.</span></span> <span data-ttu-id="2986b-151">Die Plattform zeigt eine Stichprobe der Ausgabe mit niedrigerer Auflösung an, um ein höheres Auflösungs Bild für das Rendering in anzeigen zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="2986b-151">The platform will sample the lower resolution output to build a higher resolution image for rendering on displays.</span></span> 
>
>```CS
>UnityEngine.XR.XRSettings.renderScale = 0.7f;
>```

## <a name="how-to-improve-your-application"></a><span data-ttu-id="2986b-152">So verbessern Sie Ihre Anwendung</span><span class="sxs-lookup"><span data-stu-id="2986b-152">How to improve your application</span></span>

### <a name="cpu-performance-recommendations"></a><span data-ttu-id="2986b-153">CPU-Leistungsempfehlungen</span><span class="sxs-lookup"><span data-stu-id="2986b-153">CPU performance recommendations</span></span>

<span data-ttu-id="2986b-154">Im allgemeinen umfasst die meiste Arbeit in einer gemischten Reality-Anwendung auf der CPU das Ausführen der Simulation der Szene und die Verarbeitung der Anwendungslogik.</span><span class="sxs-lookup"><span data-stu-id="2986b-154">Generally, most work in a mixed reality application on the CPU involves performing the "simulation" of the scene and processing your application logic.</span></span> <span data-ttu-id="2986b-155">Die folgenden Bereiche sind in der Regel für die Optimierung bestimmt:</span><span class="sxs-lookup"><span data-stu-id="2986b-155">The following areas are usually targeted for optimization:</span></span>

- <span data-ttu-id="2986b-156">Animationen</span><span class="sxs-lookup"><span data-stu-id="2986b-156">Animations</span></span>
- <span data-ttu-id="2986b-157">Physische Effekte</span><span class="sxs-lookup"><span data-stu-id="2986b-157">Physics</span></span>
- <span data-ttu-id="2986b-158">Speicher Belegungen</span><span class="sxs-lookup"><span data-stu-id="2986b-158">Memory allocations</span></span>
- <span data-ttu-id="2986b-159">Komplexe Algorithmen (d. h.</span><span class="sxs-lookup"><span data-stu-id="2986b-159">Complex algorithms (i.e</span></span> <span data-ttu-id="2986b-160">umgekehrte Kinematik, Pfad Suche)</span><span class="sxs-lookup"><span data-stu-id="2986b-160">inverse kinematics, path-finding)</span></span>

### <a name="gpu-performance-recommendations"></a><span data-ttu-id="2986b-161">GPU-Leistungsempfehlungen</span><span class="sxs-lookup"><span data-stu-id="2986b-161">GPU performance recommendations</span></span>

#### <a name="understanding-bandwidth-vs-fill-rate"></a><span data-ttu-id="2986b-162">Grundlegendes zur Bandbreite im Vergleich zu Füll Raten</span><span class="sxs-lookup"><span data-stu-id="2986b-162">Understanding bandwidth vs. fill rate</span></span>
<span data-ttu-id="2986b-163">Wenn ein Frame auf der GPU gerendert wird, wird eine Anwendung im Allgemeinen entweder durch die Arbeitsspeicher Bandbreite oder die Füllrate gebunden.</span><span class="sxs-lookup"><span data-stu-id="2986b-163">When rendering a frame on the GPU, an application is generally either bound by memory bandwidth or fill rate.</span></span>

- <span data-ttu-id="2986b-164">Die Arbeits **Speicherbandbreite** ist die Rate der Lese-und Schreibvorgänge, die die GPU aus dem Arbeitsspeicher</span><span class="sxs-lookup"><span data-stu-id="2986b-164">**Memory bandwidth** is the rate of reads and writes the GPU can perform from memory</span></span>
    - <span data-ttu-id="2986b-165">Um Bandbreiten Einschränkungen zu identifizieren, verringern Sie die Texturqualität, und prüfen Sie, ob die Framerate verbessert wurde.</span><span class="sxs-lookup"><span data-stu-id="2986b-165">To identify bandwidth limitations, reduce texture quality and check if the framerate has improved.</span></span>
    - <span data-ttu-id="2986b-166">In Unity kann dies durch Ändern der **Texturqualität** in " **Edit**  >  **Projekteinstellungen** bearbeiten"  >  **[Qualitätseinstellungen](https://docs.unity3d.com/Manual/class-QualitySettings.html)** geändert werden.</span><span class="sxs-lookup"><span data-stu-id="2986b-166">In Unity, this can be done by changing **Texture Quality** in **Edit** > **Project Settings** > **[Quality Settings](https://docs.unity3d.com/Manual/class-QualitySettings.html)** .</span></span>
- <span data-ttu-id="2986b-167">**Füllrate** bezieht sich auf die Pixel, die pro Sekunde von der GPU gezeichnet werden können.</span><span class="sxs-lookup"><span data-stu-id="2986b-167">**Fill rate** refers to the pixels that can be drawn per second by the GPU.</span></span>
    - <span data-ttu-id="2986b-168">Um die Einschränkungen der Füllrate zu identifizieren, verringern Sie die Bildschirmauflösung, und prüfen Sie, ob Framerate verbessert wurde</span><span class="sxs-lookup"><span data-stu-id="2986b-168">To identify fill rate limitations, decrease the display resolution and check if framerate improved.</span></span> 
    - <span data-ttu-id="2986b-169">In Unity kann dies über die  *[xrsettings. renderviewportscale](https://docs.unity3d.com/ScriptReference/XR.XRSettings-renderViewportScale.html)* -Eigenschaft erfolgen.</span><span class="sxs-lookup"><span data-stu-id="2986b-169">In Unity, this can be done via the  *[XRSettings.renderViewportScale](https://docs.unity3d.com/ScriptReference/XR.XRSettings-renderViewportScale.html)* property</span></span>

<span data-ttu-id="2986b-170">Die Speicherbandbreite umfasst in der Regel Optimierungen für:</span><span class="sxs-lookup"><span data-stu-id="2986b-170">Memory bandwidth generally involves optimizations to either:</span></span>
1) <span data-ttu-id="2986b-171">Verkleinern von Textur Auflösungen</span><span class="sxs-lookup"><span data-stu-id="2986b-171">Decrease texture resolutions</span></span>
2) <span data-ttu-id="2986b-172">Verwenden Sie weniger Texturen (normale, Glanz usw.).</span><span class="sxs-lookup"><span data-stu-id="2986b-172">Utilize fewer textures (normals, specular, etc.)</span></span>

<span data-ttu-id="2986b-173">Die Füllrate konzentriert sich auf die Reduzierung der Anzahl von Vorgängen, die für ein letztes gerendertes Pixel berechnet werden müssen.</span><span class="sxs-lookup"><span data-stu-id="2986b-173">Fill rate is focused on reducing the number of operations that need to be computed for a final rendered pixel.</span></span> <span data-ttu-id="2986b-174">Dies schließt Folgendes ein:</span><span class="sxs-lookup"><span data-stu-id="2986b-174">This includes reducing:</span></span>
1) <span data-ttu-id="2986b-175">Anzahl der zu Rendering/zu verarbeitenden Objekte</span><span class="sxs-lookup"><span data-stu-id="2986b-175">Number of objects to render/process</span></span>
2) <span data-ttu-id="2986b-176">Anzahl von Vorgängen pro Shader</span><span class="sxs-lookup"><span data-stu-id="2986b-176">Number of operations per shader</span></span>
3) <span data-ttu-id="2986b-177">Anzahl von GPU-Phasen bis zum Endergebnis (Geometry-Shader, nach Verarbeitungs Effekte usw.)</span><span class="sxs-lookup"><span data-stu-id="2986b-177">Number of GPU stages to final result (geometry shaders, post-processing effects, etc.)</span></span>
4) <span data-ttu-id="2986b-178">Anzahl der zu Rendering enden Pixel (Anzeige Auflösung)</span><span class="sxs-lookup"><span data-stu-id="2986b-178">Number of pixels to render (display resolution)</span></span>

#### <a name="reduce-polygon-count"></a><span data-ttu-id="2986b-179">Reduzieren der Polygon Anzahl</span><span class="sxs-lookup"><span data-stu-id="2986b-179">Reduce polygon count</span></span>

<span data-ttu-id="2986b-180">Höhere Polygon Zahlen führen zu weiteren Vorgängen für die GPU. Wenn Sie [die Anzahl von Polygonen](https://docs.microsoft.com/dynamics365/mixed-reality/import-tool/optimize-models#performance-targets) in der Szene verringern, wird die Rendering-Zeit reduziert.</span><span class="sxs-lookup"><span data-stu-id="2986b-180">Higher polygon counts result in more operations for the GPU; [reducing the number of polygons](https://docs.microsoft.com/dynamics365/mixed-reality/import-tool/optimize-models#performance-targets) in your scene will reduce the render time.</span></span> <span data-ttu-id="2986b-181">Beim schattieren der Geometrie gibt es weitere Faktoren, die teuer sein können, aber die Polygon Anzahl ist die einfachste Metrik, um zu bestimmen, wie teuer eine Szene sein wird.</span><span class="sxs-lookup"><span data-stu-id="2986b-181">There are other factors involved in shading the geometry that can be expensive, but polygon count is the simplest metric to determine how expensive a scene will be to render.</span></span>

#### <a name="limit-overdraw"></a><span data-ttu-id="2986b-182">Einschränken des Überzeichnens</span><span class="sxs-lookup"><span data-stu-id="2986b-182">Limit overdraw</span></span>

<span data-ttu-id="2986b-183">Ein hoher Alphablendings tritt auf, wenn mehrere Objekte gerendert, jedoch nicht auf dem Bildschirm angezeigt werden, da Sie durch ein okding Objekt ausgeblendet werden.</span><span class="sxs-lookup"><span data-stu-id="2986b-183">High overdraw occurs when multiple objects are rendered but not shown on screen as they are hidden by an occluding object.</span></span> <span data-ttu-id="2986b-184">Stellen Sie sich vor, eine Wand mit Objekten dahinter zu betrachten.</span><span class="sxs-lookup"><span data-stu-id="2986b-184">Imagine looking at a wall that has objects behind it.</span></span> <span data-ttu-id="2986b-185">Die gesamte Geometrie würde zum Rendern verarbeitet, aber nur die nicht transparente Wand muss gerendert werden.</span><span class="sxs-lookup"><span data-stu-id="2986b-185">All of the geometry would be processed for rendering, but only the opaque wall needs to be rendered.</span></span> <span data-ttu-id="2986b-186">Dies führt zu unnötigen Vorgängen.</span><span class="sxs-lookup"><span data-stu-id="2986b-186">This results in unnecessary operations.</span></span>

#### <a name="shaders"></a><span data-ttu-id="2986b-187">Shader</span><span class="sxs-lookup"><span data-stu-id="2986b-187">Shaders</span></span>

<span data-ttu-id="2986b-188">Shader sind kleine Programme, die auf der GPU ausgeführt werden und zwei wichtige Schritte zum Rendern ausführen:</span><span class="sxs-lookup"><span data-stu-id="2986b-188">Shaders are small programs that run on the GPU and perform two important steps in rendering:</span></span>
1) <span data-ttu-id="2986b-189">Bestimmen, welche Scheitel Punkte gezeichnet werden sollen und wo Sie sich im Bildschirmbereich befinden (der Vertexshader)</span><span class="sxs-lookup"><span data-stu-id="2986b-189">Determining which vertices should be drawn and where they are in screen space (the Vertex shader)</span></span>
    - <span data-ttu-id="2986b-190">Der Vertex-Shader wird in der Regel pro Scheitelpunkt für jedes Mesh ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="2986b-190">The Vertex shader is generally executed per vertex for every mesh.</span></span>
2) <span data-ttu-id="2986b-191">Bestimmen der Farbe jedes Pixels (Pixelshader)</span><span class="sxs-lookup"><span data-stu-id="2986b-191">Determining the color of each pixel (the Pixel shader)</span></span>
    - <span data-ttu-id="2986b-192">Der Pixelshader wird pro Pixel ausgeführt, das von der Geometrie in der Textur gerendert wird.</span><span class="sxs-lookup"><span data-stu-id="2986b-192">The Pixel shader is executed per pixel rendered by the geometry to the texture being rendered to.</span></span>

<span data-ttu-id="2986b-193">In der Regel führen Shader viele Transformationen und Beleuchtungsberechnungen durch.</span><span class="sxs-lookup"><span data-stu-id="2986b-193">Typically, shaders perform many transformations and lighting calculations.</span></span> <span data-ttu-id="2986b-194">Obwohl komplexe Beleuchtungs Modelle, Schatten und andere Vorgänge tolle Ergebnisse erzeugen können, erhalten Sie auch einen Preis.</span><span class="sxs-lookup"><span data-stu-id="2986b-194">Although complex lighting models, shadows, and other operations can generate fantastic results, they also come with a price.</span></span> <span data-ttu-id="2986b-195">Durch das Reduzieren der Anzahl von Vorgängen, die in Shadern berechnet werden, kann die für die GPU pro Frame benötigte Arbeit erheblich reduziert werden.</span><span class="sxs-lookup"><span data-stu-id="2986b-195">Reducing the number of operations computed in shaders can greatly reduce the work needed for the GPU per frame.</span></span>

##### <a name="shader-coding-recommendations"></a><span data-ttu-id="2986b-196">Codierungs Empfehlungen für Shader</span><span class="sxs-lookup"><span data-stu-id="2986b-196">Shader coding recommendations</span></span>

- <span data-ttu-id="2986b-197">Verwenden der bilinearen Filterung, wann immer möglich</span><span class="sxs-lookup"><span data-stu-id="2986b-197">Use bilinear filtering, whenever possible</span></span>
- <span data-ttu-id="2986b-198">Neuanordnung von Ausdrücken zur Verwendung von verrückten systeminternen Funktionen, um eine Multiplikation und ein hinzufügen gleichzeitig durchzuführen</span><span class="sxs-lookup"><span data-stu-id="2986b-198">Rearrange expressions to use MAD intrinsics in order to do a multiply and an add at the same time</span></span>
- <span data-ttu-id="2986b-199">So weit wie möglich auf der CPU vorab berechnen und als Konstanten an das Material übergeben</span><span class="sxs-lookup"><span data-stu-id="2986b-199">Precalculate as much as possible on the CPU and pass as constants to the material</span></span>
- <span data-ttu-id="2986b-200">**Verschieben von Vorgängen vom Pixelshader zum Vertex-Shader bevorzugen**</span><span class="sxs-lookup"><span data-stu-id="2986b-200">**Favor moving operations from the pixel shader to the vertex shader**</span></span>
    - <span data-ttu-id="2986b-201">Im Allgemeinen ist die Anzahl der Scheitel Punkte wesentlich kleiner als die Anzahl der Pixel (720p beträgt 921.600 Pixel, 1080p beträgt 2.073.600 Pixel usw.).</span><span class="sxs-lookup"><span data-stu-id="2986b-201">Generally, the number of vertices is much smaller than the number of pixels (720p is 921,600 pixels, 1080p is 2,073,600 pixels, etc.)</span></span>

#### <a name="remove-gpu-stages"></a><span data-ttu-id="2986b-202">Entfernen von GPU-Stufen</span><span class="sxs-lookup"><span data-stu-id="2986b-202">Remove GPU stages</span></span>

<span data-ttu-id="2986b-203">Nach Verarbeitungs Effekte können sehr teuer sein und die Füllrate Ihrer Anwendung erhöhen.</span><span class="sxs-lookup"><span data-stu-id="2986b-203">Post-processing effects can be very expensive and increase the fill rate of your application.</span></span> <span data-ttu-id="2986b-204">Dies schließt Antialiasing-Techniken wie z. b. MSAA ein.</span><span class="sxs-lookup"><span data-stu-id="2986b-204">This includes anti-aliasing techniques such as MSAA.</span></span> <span data-ttu-id="2986b-205">Bei hololens empfiehlt es sich, diese Techniken vollständig zu vermeiden, sowie weitere shaderphasen wie Geometrie, Hülle und Compute-Shader.</span><span class="sxs-lookup"><span data-stu-id="2986b-205">On HoloLens, it is recommended to avoid these techniques entirely, as well as additional shader stages such as geometry, hull, and compute shaders.</span></span>

## <a name="memory-recommendations"></a><span data-ttu-id="2986b-206">Empfehlungen zum Arbeitsspeicher</span><span class="sxs-lookup"><span data-stu-id="2986b-206">Memory recommendations</span></span>

<span data-ttu-id="2986b-207">Übermäßig hohe Speicher Belegungs-und Aufteilungs Vorgänge können zu inkonsistenter Leistung, fixierten Frames und anderem schädlichen Verhalten führen.</span><span class="sxs-lookup"><span data-stu-id="2986b-207">Excessive memory allocation and deallocation operations can result in inconsistent performance, frozen frames, and other detrimental behavior.</span></span> <span data-ttu-id="2986b-208">Es ist besonders wichtig, die Arbeitsspeicher Aspekte bei der Entwicklung in Unity zu verstehen, da die Speicherverwaltung durch die Garbage Collector gesteuert wird.</span><span class="sxs-lookup"><span data-stu-id="2986b-208">It is especially important to understand memory considerations when developing in Unity, since memory management is controlled by the garbage collector.</span></span>

#### <a name="object-pooling"></a><span data-ttu-id="2986b-209">Objektpooling</span><span class="sxs-lookup"><span data-stu-id="2986b-209">Object pooling</span></span>

<span data-ttu-id="2986b-210">Objekt Pooling ist ein gängiges Verfahren, um die Kosten von kontinuierlichen Zuordnungen und Aufhebungen von Objekten zu verringern.</span><span class="sxs-lookup"><span data-stu-id="2986b-210">Object pooling is a popular technique to reduce the cost of continuous allocations and deallocations of objects.</span></span> <span data-ttu-id="2986b-211">Dies erfolgt durch Zuordnen eines großen Pools identischer Objekte und Wiederverwendung inaktiver, verfügbarer Instanzen aus diesem Pool, statt im Lauf der Zeit ständig neue Objekte zu erstellen und zu entfernen.</span><span class="sxs-lookup"><span data-stu-id="2986b-211">This is done by allocating a large pool of identical objects and re-using inactive, available instances from this pool instead of constantly spawning and destroying objects over time.</span></span> <span data-ttu-id="2986b-212">Objektpools eignen sich hervorragend für wiederverwendbare Komponenten, die im Rahmen einer App eine variable Lebensdauer haben.</span><span class="sxs-lookup"><span data-stu-id="2986b-212">Object pools are great for re-useable components that have variable lifetime during an app.</span></span>

## <a name="see-also"></a><span data-ttu-id="2986b-213">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="2986b-213">See also</span></span>
- [<span data-ttu-id="2986b-214">Leistungsempfehlungen für Unity</span><span class="sxs-lookup"><span data-stu-id="2986b-214">Performance recommendations for Unity</span></span>](../unity/performance-recommendations-for-unity.md)
- [<span data-ttu-id="2986b-215">Empfohlene Einstellungen für Unity</span><span class="sxs-lookup"><span data-stu-id="2986b-215">Recommended settings for Unity</span></span>](../unity/recommended-settings-for-unity.md)
- [<span data-ttu-id="2986b-216">Optimieren von 3D-Modellen</span><span class="sxs-lookup"><span data-stu-id="2986b-216">Optimize 3D models</span></span>](https://docs.microsoft.com/dynamics365/mixed-reality/import-tool/optimize-models#performance-targets)
- [<span data-ttu-id="2986b-217">Bewährte Methoden zum umrechnen und Optimieren von Echt Zeit 3D-Modellen</span><span class="sxs-lookup"><span data-stu-id="2986b-217">Best practices for converting and optimizing real-time 3D Models</span></span>](https://docs.microsoft.com/dynamics365/mixed-reality/import-tool/best-practices)

